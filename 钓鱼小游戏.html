<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>ç®€æ˜“é’“é±¼å°æ¸¸æˆ</title>
  <style>
    body {
      text-align: center;
      font-family: "Microsoft YaHei", sans-serif;
      background: #cceeff;
    }
    #pond {
      margin: 20px auto;
      width: 300px;
      height: 200px;
      background: linear-gradient(#4fc3f7, #0288d1);
      border: 4px solid #01579b;
      position: relative;
    }
    #float {
      width: 10px;
      height: 10px;
      background: red;
      border-radius: 50%;
      position: absolute;
      top: 20px;
      left: 145px;
      display: none;
    }
    button {
      padding: 10px 20px;
      font-size: 16px;
      margin: 10px;
      cursor: pointer;
    }
    #msg {
      font-size: 18px;
      margin-top: 10px;
    }
  </style>
</head>
<body>

<h1>ğŸ£ é’“é±¼å°æ¸¸æˆ</h1>

<div id="pond">
  <div id="float"></div>
</div>

<button onclick="cast()">æŠ›ç«¿</button>
<button onclick="pull()">æ”¶ç«¿</button>

<div id="msg">ç‚¹å‡»â€œæŠ›ç«¿â€å¼€å§‹é’“é±¼</div>

<script>
  let fishing = false;
  let fishBite = false;
  let timer = null;

  const float = document.getElementById("float");
  const msg = document.getElementById("msg");

  function cast() {
    if (fishing) return;

    fishing = true;
    fishBite = false;
    float.style.display = "block";
    float.style.top = "20px";
    msg.innerText = "ç­‰å¾…é±¼å„¿ä¸Šé’©â€¦";

    // éšæœº 2~5 ç§’åé±¼ä¸Šé’©
    timer = setTimeout(() => {
      fishBite = true;
      float.style.top = "120px";
      msg.innerText = "ğŸŸ é±¼ä¸Šé’©äº†ï¼å¿«æ”¶ç«¿ï¼";
    }, Math.random() * 3000 + 2000);
  }

  function pull() {
    if (!fishing) {
      msg.innerText = "ä½ è¿˜æ²¡æŠ›ç«¿å‘¢ï¼";
      return;
    }

    clearTimeout(timer);
    fishing = false;
    float.style.display = "none";

    if (fishBite) {
      msg.innerText = "ğŸ‰ é’“åˆ°ä¸€æ¡é±¼ï¼";
    } else {
      msg.innerText = "ğŸ˜¢ é±¼è·‘äº†ï¼Œå†è¯•ä¸€æ¬¡å§";
    }
  }
</script>

</body>
</html>
